From 7916284d08c3d43da3f3380061d5c11a18fc4554 Mon Sep 17 00:00:00 2001
From: Borislav Petkov <bp@suse.de>
Date: Fri, 25 Apr 2014 21:31:02 +0200
Subject: [PATCH 4/6] tools: Consolidate types.h
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Combine all definitions into a common tools/include/linux/types.h and
kill the wild growth elsewhere. Move DECLARE_BITMAP to its proper
bitmap.h header.

Signed-off-by: Borislav Petkov <bp@suse.de>
Acked-by: Rusty Russell <rusty@rustcorp.com.au>
Link: http://lkml.kernel.org/n/tip-azczs7qcv6h9xek9od10hiv2@git.kernel.org
Signed-off-by: Jiri Olsa <jolsa@kernel.org>
(cherry picked from commit d944c4eebcf4c0d5e5d9728fec110cbf0047ad7f)

Conflicts: Only backported types.h, not backported perf changes
Signed-off-by: Eugenio PÃ©rez <eperezma@redhat.com>
---
 tools/include/linux/types.h                  | 14 ++++----------
 7 files changed, 5 insertions(+), 16 deletions(-)

diff --git a/tools/include/linux/types.h b/tools/include/linux/types.h
index 154eb4e3ca7c..b5cf25e05df2 100644
--- a/tools/include/linux/types.h
+++ b/tools/include/linux/types.h
@@ -1,4 +1,3 @@
-/* SPDX-License-Identifier: GPL-2.0 */
 #ifndef _TOOLS_LINUX_TYPES_H_
 #define _TOOLS_LINUX_TYPES_H_
 
@@ -8,7 +7,6 @@
 
 #define __SANE_USERSPACE_TYPES__	/* For PPC64, to get LL64 types */
 #include <asm/types.h>
-#include <asm/posix_types.h>
 
 struct page;
 struct kmem_cache;
@@ -44,7 +42,11 @@ typedef __s8  s8;
 #else
 #define __bitwise__
 #endif
+#ifdef __CHECK_ENDIAN__
 #define __bitwise __bitwise__
+#else
+#define __bitwise
+#endif
 
 #define __force
 #define __user
@@ -58,14 +60,6 @@ typedef __u32 __bitwise __be32;
 typedef __u64 __bitwise __le64;
 typedef __u64 __bitwise __be64;
 
-typedef struct {
-	int counter;
-} atomic_t;
-
-#ifndef __aligned_u64
-# define __aligned_u64 __u64 __attribute__((aligned(8)))
-#endif
-
 struct list_head {
 	struct list_head *next, *prev;
 };
-- 
2.18.1

